<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>תהליכונים והקבלה - מערכות הפעלה</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style/base.css">
    <script src="script/sidebar.js"></script>

    
  
  
</head>
<body>
    <!-- סרגל ניווט צף -->
    <div class="nav-sidebar">
        <div class="nav-sidebar-title">תוכן העניינים</div>
        <ul class="nav-main-menu">
            <li class="nav-category">
            <a href="#what-is-thread" class="category-title">📝 יסודות תהליכונים</a>
            <ul class="nav-submenu">
                <li><a href="#what-is-thread">מה זה תהליכון?</a></li>
                <li><a href="#multi-threaded-servers">שרתי ריבוי תהליכונים</a></li>
            </ul>
            </li>
            <li class="nav-category">
            <a href="#multi-core-programming" class="category-title">⚡ מקביליות וביצועים</a>
            <ul class="nav-submenu">
                <li><a href="#multi-core-programming">תכנות ריבוי ליבות</a></li>
                <li><a href="#amdahl-law">חוק אמדאל</a></li>
            </ul>
            </li>
            <li class="nav-category">
            <a href="#kernel-threads" class="category-title">🧠 מודלי תהליכונים</a>
            <ul class="nav-submenu">
                <li><a href="#kernel-threads">תהליכי גרעין ומודלים</a></li>
                <li><a href="#kernel-threads" onclick="document.getElementById('kernel-threads').scrollIntoView();">מודל רבים-לאחד</a></li>
                <li><a href="#kernel-threads" onclick="document.getElementById('kernel-threads').scrollIntoView();">מודל אחד-לאחד</a></li>
                <li><a href="#kernel-threads" onclick="document.getElementById('kernel-threads').scrollIntoView();">מודל רבים-לרבים</a></li>
                <li><a href="#kernel-threads" onclick="document.getElementById('kernel-threads').scrollIntoView();">מודל דו-רמתי</a></li>
            </ul>
            </li>
        </ul>
        <div class="back-home">
            <a href="index.html">🏠 חזרה לדף הבית</a>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>תהליכונים והקבלה</h1>
            <div class="subtitle">Threads & Concurrency</div>
        </div>

        <!-- מה זה תהליכון ומה מובחן מתהליך -->
        <div class="content-section" id="what-is-thread">
            <h2>❓ מה זה תהליכון (Thread)?</h2>
            <p>
            תהליכון הוא יחידת ביצוע קטנה בתוך תהליך: הוא משתף קוד, נתונים ומשאבים של התהליך, אבל יש לו מחסנית (stack) משלו, רישומי CPU (registers) ו"מונה קוד" נפרד.
            </p>
            <ul class="feature-list">
            <li><strong>משאבים משותפים:</strong> כל התהליכונים חולקים את המרחב הוירטואלי של התהליך, קבצים ומידע גלובלי.</li>
            <li><strong>משאבים נפרדים:</strong> לכל תהליכון יש סטק ורישומים משלו.</li>
            <li><strong>הבדל מתהליך:</strong> יצירת תהליכון היא זולה ומהירה יותר מתהליך מלא; שיתוף הזיכרון מאפשר תקשורת קלה.</li>
            <li><strong>תזמון זמן מעבד:</strong> מערכת ההפעלה מתזמנת תהליכונים על ידי מתזמן (scheduler), מחלקת זמני CPU כתורנות לפי מדיניות (Round Robin, Priority וכו').</li>
            </ul>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">למה קוראים לזה תהליכון ולא מקביליות קריאה? <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
            <p>
                תהליכון (Thread) הוא מונח שמשקף את התפקיד שלו במערכת - "חוט" של ביצוע בתוך תהליך גדול יותר. 
                בניגוד למקביליות קריאה, תהליכון הוא יחידת ביצוע ממשית שמנוהלת על ידי מערכת ההפעלה ולא רק תבנית תכנותית.
            </p>
            <p>
                המונח "תהליכון" משקף את העובדה שהוא חלק בלתי נפרד מתהליך אב, אך עם זאת הוא יחידה עצמאית מבחינת 
                ביצוע: יש לו את המסלול הביצוע שלו, המחסנית שלו והקונטקסט הפרטי שלו, אך הוא חולק משאבים עם 
                התהליכונים האחרים באותו תהליך.
            </p>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">למה תהליכון ולא פשוט עוד תהליך? <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
            <ul class="feature-list">
                <li><strong>יעילות משאבים:</strong> יצירת תהליכון חדש דורשת הרבה פחות משאבים מיצירת תהליך חדש - אין צורך להקצות מרחב זיכרון חדש או להעתיק משאבים.</li>
                <li><strong>שיתוף זיכרון:</strong> כל התהליכונים של התהליך רצים באותו מרחב זיכרון, מה שמאפשר גישה ישירה למשתנים גלובליים ונתונים משותפים.</li>
                <li><strong>תקשורת מהירה:</strong> תקשורת בין תהליכונים היא מהירה בהרבה מתקשורת בין תהליכים (IPC) כי אין צורך במנגנוני סנכרון מורכבים.</li>
                <li><strong>החלפת הקשר קלה:</strong> מערכת ההפעלה יכולה להחליף בין תהליכונים בקלות רבה יותר מאשר בין תהליכים מלאים.</li>
                <li><strong>חיסכון בזמן אתחול:</strong> אם ניצור תהליך נפרד נצטרך לטעון קוד מהדיסק, להקצות משאבים חדשים ולהעתיק מידע. תהליכון חדש יכול להתחיל כמעט מיידית.</li>
            </ul>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">האם תהליכון מקבל עוד זמן מעבד? <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
            <p>
                כן, מערכת ההפעלה מתזמנת את התהליכונים כיחידות עצמאיות לגמרי. כל תהליכון מקבל זמן CPU משלו והמתזמן (scheduler) מחלק את זמן המעבד בין התהליכונים השונים.
            </p>
            <p>
                קיימות מספר שיטות תזמון נפוצות:
            </p>
            <ul class="feature-list">
                <li><strong>Round Robin:</strong> כל תהליכון מקבל פרק זמן (time slice) קבוע להרצה ואז מוחלף.</li>
                <li><strong>מבוסס עדיפות (Priority):</strong> תהליכונים עם עדיפות גבוהה יותר מקבלים זמן מעבד רב יותר.</li>
                <li><strong>FIFO:</strong> תהליכון מקבל זמן מעבד עד שהוא מסתיים או מוותר עליו מרצונו.</li>
            </ul>
            <p>
                ברוב מערכות ההפעלה המודרניות, התזמון הוא preemptive - כלומר מערכת ההפעלה יכולה לקטוע תהליכון באמצע ריצתו כדי לתת זמן לתהליכון אחר.
            </p>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">למה לכולם יש מחסניות נפרדות? <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
            <p></p>
                מחסנית (Stack) נפרדת לכל תהליכון היא הכרחית מכמה סיבות מהותיות:
            </p>
            <ul class="feature-list">
                <li><strong>מניעת התנגשויות:</strong> אם תהליכונים היו חולקים מחסנית, כל קריאה לפונקציה מאחד התהליכונים הייתה משפיעה על המצב של מחסנית התהליכון האחר.</li>
                <li><strong>רציפות ביצוע:</strong> כשתהליכון מסתיים ומבצע return, הוא צריך מחסנית משלו כדי לשמור את מצב הביצוע שלו ללא תלות בתהליכונים אחרים.</li>
                <li><strong>הקשר ביצוע עצמאי:</strong> כל תהליכון מבצע רצף פקודות משלו, לכן הוא צריך את משתני הסביבה המקומיים שלו ומצב החזרה.</li>
            </ul>
            <p>
                למרות שיש בזה מעט בזבוז משאבים (בדרך כלל מחסנית בגודל 1MB לכל תהליכון), זהו "מחיר" נמוך יחסית לעומת היתרונות בביצועים והפשטות שזה מספק. גודל מחסנית הוא קטן יחסית למשאבים אחרים כמו ערימה (Heap) משותפת או הקצאת תהליך שלם חדש.
            </p>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">ההבדלים בין רכיבי התהליכונים <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
            <ul class="feature-list">
                <li><strong>רגיסטרים נפרדים:</strong> לכל תהליכון יש העתק של רגיסטרים של המעבד. זה מאפשר למערכת ההפעלה לשמור את מצב הביצוע המדויק של התהליכון בעת החלפתו, ולשחזר אותו כשהתהליכון חוזר לריצה. ללא זה, תהליכונים היו דורסים את המידע של רגיסטרים אחד לשני.</li>
                <li><strong>מחסניות נפרדות:</strong> מאפשרות לכל תהליכון לנהל את רצף הקריאות לפונקציות והמשתנים המקומיים שלהן באופן עצמאי. המחסנית שומרת את "היסטוריית הביצוע" של התהליכון.</li>
                <li><strong>מונה קוד שונה (Program Counter):</strong> שומר את מיקום הפקודה הבאה שהתהליכון צריך לבצע. בלעדיו, תהליכונים לא היו יכולים לרוץ בנקודות שונות בקוד במקביל.</li>
                <li><strong>מצב תהליכון (Thread State):</strong> התהליכון יכול להיות במצבים שונים - מוכן לריצה, רץ, ממתין לאירוע או לסנכרון, או מסתיים, בלי קשר למצב תהליכונים אחרים באותו תהליך.</li>
            </ul>
            </div>

            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">השוואה בין תהליכון בודד למספר תהליכונים <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
            <div class="visual-diagram">
                <div style="display: flex; justify-content: space-around; width: 100%; margin: 20px 0;"></div>
                    <!-- Single-threaded Process -->
                    <div style="width: 100%; border: 1px solid #94a3b8; border-radius: 10px; padding: 15px; background: rgba(30, 41, 59, 0.4); position: relative;">

                        <div style="display: flex; justify-content: space-between; gap: 30px;">
                            <!-- Single-threaded Process -->
                            <div style="width: 48%; border: 1px solid #94a3b8; border-radius: 10px; padding: 15px; background: rgba(30, 41, 59, 0.4); position: relative;">
                                <div style="text-align: center; margin-bottom: 15px;">
                                    <!-- Shared Resources -->
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; width: 30%;">code</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; width: 30%;">data</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; width: 30%;">files</div>
                                    </div>
                                </div>
                                <!-- Single Thread -->
                                <div style="width: 100%; text-align: center; background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 10px; border: 1px dashed #60a5fa;">
                                    <!-- Thread resources -->
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; width: 30%;">registers</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; width: 30%;">PC</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; width: 30%;">stack</div>
                                    </div>
                                    <!-- Thread wavy line -->
                                    <div style="height: 40px; display: flex; justify-content: center; align-items: center; margin: 10px 0;">
                                        <svg width="60" height="40" viewBox="0 0 60 40">
                                            <path d="M0,20 Q15,5 30,20 Q45,35 60,20" stroke="#60a5fa" stroke-width="3" fill="none" />
                                        </svg>
                                    </div>
                                    <div style="color: #94a3b8;">thread</div>
                                </div>
                                <div style="margin-top: 20px; text-align: center; color: #cbd5e1; font-size: 0.9em; font-weight: bold;">
                                    תהליך עם תהליכון יחיד
                                </div>
                            </div>
                            <!-- Multi-threaded Process -->
                            <div style="width: 48%; border: 1px solid #94a3b8; border-radius: 10px; padding: 15px; background: rgba(30, 41, 59, 0.4); position: relative;">
                                <div style="text-align: center; margin-bottom: 15px;">
                                    <!-- Shared Resources -->
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; width: 30%;">code</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; width: 30%;">data</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; width: 30%;">files</div>
                                    </div>
                                </div>
                                <!-- Multiple Threads -->
                                <div style="display: flex; justify-content: space-between;">
                                    <!-- Thread 1 -->
                                    <div style="width: 31%; text-align: center; background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 10px; border: 1px dashed #60a5fa;">
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; margin-bottom: 8px;">registers</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; margin-bottom: 8px;">stack</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; margin-bottom: 8px;">PC</div>
                                        <!-- Thread wavy line -->
                                        <div style="height: 40px; display: flex; justify-content: center; align-items: center; margin: 5px 0;">
                                            <svg width="30" height="40" viewBox="0 0 30 40">
                                                <path d="M15,0 Q5,20 15,40" stroke="#60a5fa" stroke-width="3" fill="none" />
                                            </svg>
                                        </div>
                                        <div style="color: #94a3b8;">thread</div>
                                    </div>
                                    <!-- Thread 2 -->
                                    <div style="width: 31%; text-align: center; background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 10px; border: 1px dashed #60a5fa;">
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; margin-bottom: 8px;">registers</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; margin-bottom: 8px;">stack</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; margin-bottom: 8px;">PC</div>
                                        <!-- Thread wavy line -->
                                        <div style="height: 40px; display: flex; justify-content: center; align-items: center; margin: 5px 0;">
                                            <svg width="30" height="40" viewBox="0 0 30 40">
                                                <path d="M15,0 Q5,20 15,40" stroke="#60a5fa" stroke-width="3" fill="none" />
                                            </svg>
                                        </div>
                                        <div style="color: #94a3b8;">thread</div>
                                    </div>
                                    <!-- Thread 3 -->
                                    <div style="width: 31%; text-align: center; background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 10px; border: 1px dashed #60a5fa;">
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; margin-bottom: 8px;">registers</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; margin-bottom: 8px;">stack</div>
                                        <div style="background: white; border: 1px solid #94a3b8; border-radius: 5px; padding: 5px; color: #0f172a; margin-bottom: 8px;">PC</div>
                                        <!-- Thread wavy line -->
                                        <div style="height: 40px; display: flex; justify-content: center; align-items: center; margin: 5px 0;">
                                            <svg width="30" height="40" viewBox="0 0 30 40">
                                                <path d="M15,0 Q5,20 15,40" stroke="#60a5fa" stroke-width="3" fill="none" />
                                            </svg>
                                        </div>
                                        
                                        <div style="color: #94a3b8;">thread</div>
                                    </div>
                                    
                                </div>
                            </div>
                            <div style="margin-top: 20px; text-align: center; color: #cbd5e1; font-size: 0.9em; font-weight: bold;">
                            תהליך מרובה תהליכונים
                        </div>
                        </div>
                        
                        
                    </div>
                </div>
                <p>גרף זה ממחיש את ההבדל המהותי בין תהליך עם תהליכון יחיד (משמאל) לתהליך עם מספר תהליכונים (מימין). בתהליך מרובה-תהליכונים, כל התהליכונים חולקים את אותו מרחב זיכרון וקבצים, אבל לכל אחד יש רגיסטרים, מחסניות ומוני קוד משלו. זה מאפשר ריצה מקבילית בתוך אותו תהליך.</p>
            </div>
            
        </div>

        <!-- שרתי ריבוי תהליכונים -->
        <div class="content-section" id="multi-threaded-servers">
            <h2>🖥️ שרתי ריבוי תהליכונים</h2>
            <p>
                שרת יוצר תהליכון לכל בקשה נכנסת. כך ניתן לטפל בבקשות ארוכות וקצרות במקביל בלי לחסום כולן.
            </p>
            <ul class="feature-list">
                <li><strong>יתרונות:</strong> זמני תגובה מהירים, ניצול משאבים טוב יותר, שיתוף נתונים קל.</li>
                <li><strong>חסרונות:</strong> סינכרון בין תהליכונים מורכב, בעיות race ו־deadlock, ניהול זיכרון מורכב יותר.</li>
            </ul>
        </div>

        <!-- תכנות ריבוי ליבות -->
        <div class="content-section" id="multi-core-programming">
            <h2>⚙️ תכנות ריבוי ליבות</h2>
            <p>
                ניצול מספר ליבות במערכת מאפשר ריצה אמיתית של קוד במקביל (Parallelism). יש שני סוגים עיקריים:
            </p>
            <ul class="feature-list">
                <li><strong>מקביליות נתונים (Data Parallelism):</strong> פיצול מערך נתונים לתת־קבוצות שעובדות על כל אחת ב־core שונה.</li>
                <li><strong>מקביליות משימות (Task Parallelism):</strong> ריצה במקביל של תהליכונים המבצעים משימות שונות על אותו או על נתונים שונים.</li>
            </ul>
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">המחשה גרפית: ריצה סידורית מול ריצה מקבילית <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
                <div class="visual-diagram">
                    <div style="display: flex; flex-direction: column; gap: 30px;">
                        <!-- Single-core system visualization -->
                        <div>
                            <h4 style="margin-bottom: 10px; color: #1a202c;">ריצה מקבילית על מערכת בעלת ליבה יחידה:</h4>
                            <div style="display: flex; flex-direction: column; align-items: center;">
                                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                    <div style="color: #1a202c; margin-right: 10px;">single core</div>
                                    <div style="display: flex;"></div>
                                        <div style="width: 40px; height: 40px; background-color: #93c5fd; display: flex; justify-content: center; align-items: center; border: 1px solid #60a5fa; color: #1a202c;">T₁</div>
                                        <div style="width: 40px; height: 40px; background-color: #c084fc; display: flex; justify-content: center; align-items: center; border: 1px solid #a855f7; color: #1a202c;">T₂</div>
                                        <div style="width: 40px; height: 40px; background-color: #f472b6; display: flex; justify-content: center; align-items: center; border: 1px solid #ec4899; color: #1a202c;">T₃</div>
                                        <div style="width: 40px; height: 40px; background-color: #fb923c; display: flex; justify-content: center; align-items: center; border: 1px solid #f59e0b; color: #1a202c;">T₄</div>
                                        <div style="width: 40px; height: 40px; background-color: #93c5fd; display: flex; justify-content: center; align-items: center; border: 1px solid #60a5fa; color: #1a202c;">T₁</div>
                                        <div style="width: 40px; height: 40px; background-color: #c084fc; display: flex; justify-content: center; align-items: center; border: 1px solid #a855f7; color: #1a202c;">T₂</div>
                                        <div style="width: 40px; height: 40px; background-color: #f472b6; display: flex; justify-content: center; align-items: center; border: 1px solid #ec4899; color: #1a202c;">T₃</div>
                                        <div style="width: 40px; height: 40px; background-color: #fb923c; display: flex; justify-content: center; align-items: center; border: 1px solid #f59e0b; color: #1a202c;">T₄</div>
                                        <div style="width: 40px; height: 40px; background-color: #93c5fd; display: flex; justify-content: center; align-items: center; border: 1px solid #60a5fa; color: #1a202c;">T₁</div>
                                        <div style="width: 40px; height: 40px; background-color: #e5e7eb; display: flex; justify-content: center; align-items: center; border: 1px solid #d1d5db; color: #1a202c;">...</div>
                                    </div>
                                </div>
                                <div style="width: 60%; height: 1px; background-color: #64748b; margin: 5px 0;">
                                <div style="color: #1a202c;">time →</div>
                            </div>
                        </div>

                        <!-- Multi-core system visualization -->
                        <div>
                            <h4 style="margin-bottom: 10px; color: #1a202c;">מקביליות במערכת מרובת ליבות:</h4>
                            <div style="display: flex; flex-direction: column; align-items: center;">
                                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                    <div style="color: #1a202c; margin-right: 10px;">core 1</div>
                                    <div style="display: flex;">
                                        <div style="width: 40px; height: 40px; background-color: #93c5fd; display: flex; justify-content: center; align-items: center; border: 1px solid #60a5fa; color: #1a202c;">T₁</div>
                                        <div style="width: 40px; height: 40px; background-color: #f472b6; display: flex; justify-content: center; align-items: center; border: 1px solid #ec4899; color: #1a202c;">T₃</div>
                                        <div style="width: 40px; height: 40px; background-color: #93c5fd; display: flex; justify-content: center; align-items: center; border: 1px solid #60a5fa; color: #1a202c;">T₁</div>
                                        <div style="width: 40px; height: 40px; background-color: #f472b6; display: flex; justify-content: center; align-items: center; border: 1px solid #ec4899; color: #1a202c;">T₃</div>
                                        <div style="width: 40px; height: 40px; background-color: #93c5fd; display: flex; justify-content: center; align-items: center; border: 1px solid #60a5fa; color: #1a202c;">T₁</div>
                                        <div style="width: 40px; height: 40px; background-color: #e5e7eb; display: flex; justify-content: center; align-items: center; border: 1px solid #d1d5db; color: #1a202c;">...</div>
                                    </div>
                                </div>
                                
                                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                    <div style="color: #1a202c; margin-right: 10px;">core 2</div>
                                    <div style="display: flex;">
                                        <div style="width: 40px; height: 40px; background-color: #c084fc; display: flex; justify-content: center; align-items: center; border: 1px solid #a855f7; color: #1a202c;">T₂</div>
                                        <div style="width: 40px; height: 40px; background-color: #fb923c; display: flex; justify-content: center; align-items: center; border: 1px solid #f59e0b; color: #1a202c;">T₄</div>
                                        <div style="width: 40px; height: 40px; background-color: #c084fc; display: flex; justify-content: center; align-items: center; border: 1px solid #a855f7; color: #1a202c;">T₂</div>
                                        <div style="width: 40px; height: 40px; background-color: #fb923c; display: flex; justify-content: center; align-items: center; border: 1px solid #f59e0b; color: #1a202c;">T₄</div>
                                        <div style="width: 40px; height: 40px; background-color: #c084fc; display: flex; justify-content: center; align-items: center; border: 1px solid #a855f7; color: #1a202c;">T₂</div>
                                        <div style="width: 40px; height: 40px; background-color: #e5e7eb; display: flex; justify-content: center; align-items: center; border: 1px solid #d1d5db; color: #1a202c;">...</div>
                                    </div>
                                </div>
                                <div style="width: 60%; height: 1px; background-color: #64748b; margin: 5px 0;"></div>
                                <div style="color: #1a202c;">time →</div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
            
        </div>

        <!-- חוק אמדאל -->
        <div class="content-section" id="amdahl-law">
            <h2>📊 חוק אמדאל (Amdahl's Law)</h2>
            <p>
            חוק אמדאל קובע את השיפור המרבי בביצועים שניתן להשיג כאשר מריצים חלק מתוכנית במקביל על N ליבות:
            </p>
            <div class="code-example">
    <pre><code class="language-math">Speedup ≤ 1 / (S + (1 − S)/N)</code></pre>
            <p>כאשר S הוא החלק הסידורי (שלא ניתן להריץ במקביל) ו-N הוא מספר המעבדים/ליבות.</p>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">הסבר מעמיק על חוק אמדאל <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
            <p>
                חוק אמדאל הוא עיקרון יסודי במערכות מקביליות שפותח על ידי ג'ין אמדאל ב-1967. החוק מדגיש את המגבלות הטבועות בהאצת תוכניות באמצעות מקביליות:
            </p>
            <ul class="feature-list">
                <li><strong>מגבלת הקוד הסידורי:</strong> ככל שיש יותר קוד שחייב לרוץ באופן סידורי (ולא במקביל), כך הרווח המרבי מהוספת מעבדים/ליבות קטן יותר.</li>
                <li><strong>תקרת האצה:</strong> אם 10% מהתוכנית חייבת לרוץ בצורה סידורית, השיפור המקסימלי לא יכול לעבור פי 10 מהמהירות המקורית, גם אם נוסיף אינסוף מעבדים.</li>
                <li><strong>החשיבות של S:</strong> החלק הסידורי הוא הצוואר בקבוק הביצועים האמיתי במערכות מקביליות.</li>
            </ul>
            
            <h4>דוגמה מספרית:</h4>
            <p>
                נניח שיש לנו תוכנית שלוקחת 100 שעות לרוץ על מעבד אחד, ו-95% ממנה ניתן להריץ במקביל (S = 0.05).
            </p>
            <ul class="feature-list">
                <li><strong>עם 2 מעבדים:</strong> המהירות תהיה 1 / (0.05 + 0.95/2) = 1.9x מהמקורית</li>
                <li><strong>עם 4 מעבדים:</strong> המהירות תהיה 1 / (0.05 + 0.95/4) = 3.5x מהמקורית</li>
                <li><strong>עם ∞ מעבדים:</strong> המהירות המקסימלית תהיה 1 / 0.05 = 20x מהמקורית, לא משנה כמה מעבדים נוסיף!</li>
            </ul>
            
            <div class="visual-diagram">
                <h4 style="margin-bottom: 15px; color: #cbd5e1;">המחשה גרפית של חוק אמדאל</h4>
                <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 30px;">
                <!-- הדמיית גרף חוק אמדאל -->
                <div style="width: 500px; height: 300px; position: relative; background: rgba(30, 41, 59, 0.5); border-radius: 10px; padding: 20px;">
                    <!-- ציר Y - Speedup -->
                    <div style="position: absolute; top: 0; bottom: 0; left: 40px; width: 1px; background: #94a3b8;"></div>
                    <div style="position: absolute; left: 10px; top: 10px; transform: rotate(-90deg); transform-origin: left top; color: #cbd5e1; white-space: nowrap;">Speedup Factor</div>
                    
                    <!-- ציר X - נתוני מעבדים -->
                    <div style="position: absolute; left: 40px; right: 20px; bottom: 50px; height: 1px; background: #94a3b8;"></div>
                    <div style="position: absolute; bottom: 20px; left: 0; right: 0; text-align: center; color: #cbd5e1;">Number of Processors (N)</div>
                    
                    <!-- קו 95% parallelizable -->
                    <svg style="position: absolute; top: 20px; left: 40px; right: 20px; bottom: 50px; overflow: visible;">
                    <path d="M0,225 Q60,100 120,60 Q180,30 240,20 Q300,15 370,12" 
                          stroke="#3b82f6" stroke-width="3" fill="none" />
                    <text x="380" y="12" fill="#3b82f6" font-size="12">S=0.05 (95% מקבילי)</text>
                    </svg>
                    
                    <!-- קו 75% parallelizable -->
                    <svg style="position: absolute; top: 20px; left: 40px; right: 20px; bottom: 50px; overflow: visible;">
                    <path d="M0,225 Q60,170 120,140 Q180,120 240,110 Q300,105 370,103" 
                          stroke="#8b5cf6" stroke-width="3" fill="none" />
                    <text x="380" y="103" fill="#8b5cf6" font-size="12">S=0.25 (75% מקבילי)</text>
                    </svg>
                    
                    <!-- קו 50% parallelizable -->
                    <svg style="position: absolute; top: 20px; left: 40px; right: 20px; bottom: 50px; overflow: visible;">
                    <path d="M0,225 Q60,190 120,175 Q180,165 240,160 Q300,158 370,156" 
                          stroke="#ec4899" stroke-width="3" fill="none" />
                    <text x="380" y="156" fill="#ec4899" font-size="12">S=0.5 (50% מקבילי)</text>
                    </svg>
                    
                    <!-- סימון ערכי ציר X -->
                    <div style="position: absolute; bottom: 30px; left: 40px; color: #94a3b8; font-size: 12px;">1</div>
                    <div style="position: absolute; bottom: 30px; left: 100px; color: #94a3b8; font-size: 12px;">4</div>
                    <div style="position: absolute; bottom: 30px; left: 180px; color: #94a3b8; font-size: 12px;">8</div>
                    <div style="position: absolute; bottom: 30px; left: 260px; color: #94a3b8; font-size: 12px;">16</div>
                    <div style="position: absolute; bottom: 30px; left: 340px; color: #94a3b8; font-size: 12px;">32</div>
                    <div style="position: absolute; bottom: 30px; left: 420px; color: #94a3b8; font-size: 12px;">64</div>
                    
                    <!-- סימון ערכי ציר Y -->
                    <div style="position: absolute; left: 25px; top: 225px; color: #94a3b8; font-size: 12px;">1x</div>
                    <div style="position: absolute; left: 25px; top: 175px; color: #94a3b8; font-size: 12px;">2x</div>
                    <div style="position: absolute; left: 25px; top: 125px; color: #94a3b8; font-size: 12px;">3x</div>
                    <div style="position: absolute; left: 25px; top: 75px; color: #94a3b8; font-size: 12px;">4x</div>
                    <div style="position: absolute; left: 25px; top: 25px; color: #94a3b8; font-size: 12px;">5x</div>
                </div>
                </div>
                <p>
                הגרף מראה כיצד ככל שמספר המעבדים גדל (ציר X), שיפור הביצועים (ציר Y) מתקרב לגבול קבוע שנקבע 
                על ידי החלק הסידורי. ניתן לראות כי ככל שהחלק הסידורי (S) קטן יותר, כך ניתן להגיע לשיפור ביצועים גבוה יותר.
                </p>
            </div>
            
            <h4>השלכות מעשיות:</h4>
            <ul class="feature-list">
                <li><strong>השקעה חכמה:</strong> לא תמיד כדאי להוסיף מעבדים/ליבות - מעבר לנקודה מסוימת השיפור שולי מאוד.</li>
                <li><strong>מיקוד המאמצים:</strong> חשוב יותר להקטין את החלק הסידורי מאשר להגדיל את מספר המעבדים.</li>
                <li><strong>תכנון מקביליות:</strong> יש לשאוף לכתוב קוד עם אחוז מקביליות גבוה ככל האפשר.</li>
            </ul>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">יישום והשפעה של חוק אמדאל <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
            <p>
                חוק אמדאל משפיע על החלטות תכנון מערכות מחשב והתוכנה שרצה עליהן:
            </p>
            <ul class="feature-list">
                <li><strong>אופטימיזציה נכונה:</strong> במקום להתמקד רק בשיפור החלק המקבילי או הוספת ליבות, חשוב להשקיע גם בייעול החלק הסידורי.</li>
                <li><strong>תוספת מעבדים:</strong> יש להעריך את התועלת לפני הוספת ליבות/מעבדים - לפעמים אין הצדקה כלכלית מעבר לכמות מסוימת.</li>
                <li><strong>ארכיטקטורת תוכנה:</strong> חשוב לתכנן אפליקציות כך שכמה שפחות קוד יהיה בחלק הסידורי.</li>
            </ul>
            
            <div class="highlight-box">
                <p>
                <strong>אנקדוטה מעניינת:</strong> חוק אמדאל מסביר למה חברות כמו אינטל ו-AMD עברו מהגברת תדר השעון להוספת ליבות. 
                עם זאת, הן עדיין משקיעות רבות בשיפור הביצועים של כל ליבה בודדת, בדיוק בגלל המגבלות שחוק אמדאל מציב על האצה מקבילית.
                </p>
            </div>
            </div>
        </div>
        <!-- תהליכי גרעין וסוגי מודלים -->
        <div class="content-section" id="kernel-threads">
            <h2>🧠 תהליכי גרעין ומודלים של תהליכונים</h2>
            <p>
                תהליכי גרעין (Kernel Threads) הם תהליכונים המנוהלים ישירות על-ידי מערכת ההפעלה. בניגוד לתהליכוני משתמש, תהליכוני גרעין מוכרים למתזמן (scheduler) של מערכת ההפעלה ומאפשרים מקביליות אמיתית על מערכות מרובות מעבדים. כאשר תהליכון גרעין חוסם פעולה (למשל קריאת קובץ), שאר התהליכונים יכולים להמשיך לרוץ.
            </p>
            <p>
                תהליכונים ברמת המשתמש (User-Level Threads) מנוהלים על-ידי ספריית תהליכונים בשכבת המשתמש, ומערכת ההפעלה אינה מודעת לקיומם. הם נחשבים לקלי משקל יותר, אך דורשים מנגנוני סנכרון מיוחדים כדי להימנע מחסימת כל התהליכונים בעת קריאות מערכת.
            </p>
            <p>
                הקשר בין תהליכוני המשתמש לתהליכוני הגרעין מוגדר באמצעות מספר מודלים שונים, שכל אחד מהם מציע איזון אחר בין גמישות, פשטות, ויעילות:
            </p>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">מודל רבים-לאחד (Many-to-One) <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
                <p>
                    במודל זה, מספר תהליכוני משתמש ממופים לתהליכון גרעין יחיד.
                </p>
                <ul class="feature-list">
                    <li><strong>יתרונות:</strong> ניהול תהליכונים יעיל, עובד במערכות הפעלה שאינן תומכות בתהליכוני גרעין מרובים.</li>
                    <li><strong>חסרונות:</strong> אם תהליכון אחד יבצע קריאת מערכת חוסמת, כל התהליכונים ייחסמו. חוסר יכולת לנצל מספר מעבדים.</li>
                </ul>
                
                <div class="visual-diagram">
                    <div style="display: flex; justify-content: center; margin: 20px 0;">
                        <div style="width: 450px; height: 300px; position: relative; background: rgba(30, 41, 59, 0.4); border-radius: 10px; padding: 20px;">
                            <!-- User-Level Threads -->
                            <div style="position: absolute; top: 20px; left: 30px; right: 30px; border-bottom: 1px dashed #94a3b8; padding-bottom: 10px;">
                                <div style="color: #cbd5e1; text-align: center; margin-bottom: 15px; font-weight: bold;">תהליכוני משתמש</div>
                                <div style="display: flex; justify-content: space-around;">
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₁</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₂</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₃</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₄</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₅</div>
                                </div>
                            </div>
                            
                            <!-- Arrows -->
                            <div style="position: absolute; top: 120px; left: 50px; right: 50px; height: 60px;">
                                <svg width="100%" height="100%" viewBox="0 0 350 60">
                                    <defs>
                                        <marker id="arrowhead-blue" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                                            <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6" />
                                        </marker>
                                    </defs>
                                    <line x1="30" y1="10" x2="175" y2="50" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead-blue)" />
                                    <line x1="95" y1="10" x2="175" y2="50" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead-blue)" />
                                    <line x1="175" y1="10" x2="175" y2="50" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead-blue)" />
                                    <line x1="255" y1="10" x2="175" y2="50" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead-blue)" />
                                    <line x1="320" y1="10" x2="175" y2="50" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead-blue)" />
                                </svg>
                            </div>
                            
                            <!-- Kernel Thread -->
                            <div style="position: absolute; bottom: 20px; left: 30px; right: 30px; border-top: 1px dashed #94a3b8; padding-top: 20px;">
                                <div style="color: #cbd5e1; text-align: center; margin-bottom: 15px; font-weight: bold;">תהליכון גרעין</div>
                                <div style="display: flex; justify-content: center;">
                                    <div style="width: 60px; height: 60px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₁</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p style="text-align: center;">מודל רבים-לאחד: תהליכוני משתמש רבים ממופים לתהליכון גרעין יחיד</p>
                </div>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">מודל אחד-לאחד (One-to-One) <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
                <p>
                    במודל זה, כל תהליכון ברמת המשתמש ממופה לתהליכון גרעין נפרד.
                </p>
                <ul class="feature-list">
                    <li><strong>יתרונות:</strong> מאפשר מקביליות אמיתית, אם תהליכון נחסם אחרים יכולים להמשיך לרוץ.</li>
                    <li><strong>חסרונות:</strong> יצירת תהליכון חדש עולה יותר משאבים, הגבלה על מספר התהליכונים במערכת.</li>
                </ul>
                
                <div class="visual-diagram">
                    <div style="display: flex; justify-content: center; margin: 20px 0;">
                        <div style="width: 450px; height: 300px; position: relative; background: rgba(30, 41, 59, 0.4); border-radius: 10px; padding: 20px;">
                            <!-- User-Level Threads -->
                            <div style="position: absolute; top: 20px; left: 30px; right: 30px; border-bottom: 1px dashed #94a3b8; padding-bottom: 10px;">
                                <div style="color: #cbd5e1; text-align: center; margin-bottom: 15px; font-weight: bold;">תהליכוני משתמש</div>
                                <div style="display: flex; justify-content: space-around;">
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₁</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₂</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₃</div>
                                </div>
                            </div>
                            
                            <!-- Arrows -->
                            <div style="position: absolute; top: 120px; left: 50px; right: 50px; height: 60px;">
                                <svg width="100%" height="100%" viewBox="0 0 350 60">
                                    <defs>
                                        <marker id="arrowhead-purple" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                                            <polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6" />
                                        </marker>
                                    </defs>
                                    <line x1="85" y1="10" x2="85" y2="50" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowhead-purple)" />
                                    <line x1="175" y1="10" x2="175" y2="50" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowhead-purple)" />
                                    <line x1="265" y1="10" x2="265" y2="50" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowhead-purple)" />
                                </svg>
                            </div>
                            
                            <!-- Kernel Threads -->
                            <div style="position: absolute; bottom: 20px; left: 30px; right: 30px; border-top: 1px dashed #94a3b8; padding-top: 20px;">
                                <div style="color: #cbd5e1; text-align: center; margin-bottom: 15px; font-weight: bold;">תהליכוני גרעין</div>
                                <div style="display: flex; justify-content: space-around;">
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₁</div>
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₂</div>
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₃</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p style="text-align: center;">מודל אחד-לאחד: כל תהליכון משתמש ממופה לתהליכון גרעין נפרד</p>
                </div>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">מודל רבים-לרבים (Many-to-Many) <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
                <p>
                    מודל היברידי שבו מספר תהליכוני משתמש ממופים למספר תהליכוני גרעין.
                </p>
                <ul class="feature-list">
                    <li><strong>יתרונות:</strong> גמישות מרבית, מאפשר מקביליות אמיתית, מגביל את מספר תהליכוני גרעין למספר אופטימלי.</li>
                    <li><strong>חסרונות:</strong> מורכב יותר ליישום, צורך במנגנון תזמון מתוחכם יותר.</li>
                </ul>
                
                <div class="visual-diagram">
                    <div style="display: flex; justify-content: center; margin: 20px 0;">
                        <div style="width: 450px; height: 300px; position: relative; background: rgba(30, 41, 59, 0.4); border-radius: 10px; padding: 20px;">
                            <!-- User-Level Threads -->
                            <div style="position: absolute; top: 20px; left: 30px; right: 30px; border-bottom: 1px dashed #94a3b8; padding-bottom: 10px;">
                                <div style="color: #cbd5e1; text-align: center; margin-bottom: 15px; font-weight: bold;">תהליכוני משתמש</div>
                                <div style="display: flex; justify-content: space-around;">
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₁</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₂</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₃</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₄</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₅</div>
                                </div>
                            </div>
                            
                            <!-- Arrows -->
                            <div style="position: absolute; top: 120px; left: 50px; right: 50px; height: 60px;">
                                <svg width="100%" height="100%" viewBox="0 0 350 60">
                                    <defs>
                                        <marker id="arrowhead-pink" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                                            <polygon points="0 0, 10 3.5, 0 7" fill="#ec4899" />
                                        </marker>
                                    </defs>
                                    <line x1="30" y1="10" x2="85" y2="50" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead-pink)" />
                                    <line x1="95" y1="10" x2="85" y2="50" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead-pink)" />
                                    <line x1="95" y1="10" x2="175" y2="50" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead-pink)" />
                                    <line x1="175" y1="10" x2="175" y2="50" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead-pink)" />
                                    <line x1="255" y1="10" x2="175" y2="50" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead-pink)" />
                                    <line x1="255" y1="10" x2="265" y2="50" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead-pink)" />
                                    <line x1="320" y1="10" x2="265" y2="50" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead-pink)" />
                                </svg>
                            </div>
                            
                            <!-- Kernel Threads -->
                            <div style="position: absolute; bottom: 20px; left: 30px; right: 30px; border-top: 1px dashed #94a3b8; padding-top: 20px;">
                                <div style="color: #cbd5e1; text-align: center; margin-bottom: 15px; font-weight: bold;">תהליכוני גרעין</div>
                                <div style="display: flex; justify-content: space-around;">
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₁</div>
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₂</div>
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₃</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p style="text-align: center;">מודל רבים-לרבים: תהליכוני משתמש רבים ממופים למספר תהליכוני גרעין</p>
                </div>
            </div>

            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">מודל דו-רמתי (Two-Level) <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
                <p>
                    מודל המשלב את היתרונות של מודל אחד-לאחד ומודל רבים-לרבים. חלק מתהליכוני המשתמש ממופים ישירות לתהליכוני גרעין (אחד-לאחד), בעוד אחרים משתמשים במיפוי רבים-לרבים.
                </p>
                <ul class="feature-list"></ul>
                    <li><strong>יתרונות:</strong> גמישות מרבית, שליטה טובה יותר בתהליכונים קריטיים, ניצול יעיל של משאבי המערכת.</li>
                    <li><strong>חסרונות:</strong> מורכבות גבוהה בניהול ותזמון, דורש תכנון מוקדם לקביעת אילו תהליכונים ישתמשו באיזה מודל.</li>
                </ul>
                
                <div class="visual-diagram">
                    <div style="display: flex; justify-content: center; margin: 20px 0;">
                        <div style="width: 450px; height: 320px; position: relative; background: rgba(30, 41, 59, 0.4); border-radius: 10px; padding: 20px;">
                            <!-- User-Level Threads -->
                            <div style="position: absolute; top: 20px; left: 30px; right: 30px; border-bottom: 1px dashed #94a3b8; padding-bottom: 10px;">
                                <div style="color: #cbd5e1; text-align: center; margin-bottom: 15px; font-weight: bold;">תהליכוני משתמש</div>
                                <div style="display: flex; justify-content: space-around;">
                                    <div style="width: 40px; height: 40px; background-color: #f472b6; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₁</div>
                                    <div style="width: 40px; height: 40px; background-color: #f472b6; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₂</div>
                                    <div style="width: 40px; height: 40px; background-color: #f472b6; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₃</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₄</div>
                                    <div style="width: 40px; height: 40px; background-color: #93c5fd; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold;">U₅</div>
                                </div>
                            </div>
                            
                            <!-- Arrows -->
                            <div style="position: absolute; top: 120px; left: 50px; right: 50px; height: 60px;">
                                <svg width="100%" height="100%" viewBox="0 0 350 60">
                                    <defs>
                                        <marker id="arrowhead-turquoise" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                                            <polygon points="0 0, 10 3.5, 0 7" fill="#06b6d4" />
                                        </marker>
                                        <marker id="arrowhead-rose" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                                            <polygon points="0 0, 10 3.5, 0 7" fill="#f472b6" />
                                        </marker>
                                    </defs>
                                    <!-- Direct mapping (One-to-One) -->
                                    <line x1="30" y1="10" x2="30" y2="50" stroke="#06b6d4" stroke-width="2" marker-end="url(#arrowhead-turquoise)" />
                                    <line x1="95" y1="10" x2="95" y2="50" stroke="#06b6d4" stroke-width="2" marker-end="url(#arrowhead-turquoise)" />
                                    
                                    <!-- Many-to-Many mapping -->
                                  
                                    <line x1="320" y1="10" x2="145" y2="50" stroke="#f472b6" stroke-width="2" marker-end="url(#arrowhead-rose)" />
                                    <line x1="320" y1="10" x2="205" y2="50" stroke="#f472b6" stroke-width="2" marker-end="url(#arrowhead-rose)" />
                                    <line x1="320" y1="10" x2="320" y2="50" stroke="#f472b6" stroke-width="2" marker-end="url(#arrowhead-rose)" />

                                    <line x1="260" y1="10" x2="145" y2="50" stroke="#f472b6" stroke-width="2" marker-end="url(#arrowhead-rose)" />
                                    <line x1="260" y1="10" x2="320" y2="50" stroke="#f472b6" stroke-width="2" marker-end="url(#arrowhead-rose)" />
                                    <line x1="175" y1="10" x2="145" y2="50" stroke="#f472b6" stroke-width="2" marker-end="url(#arrowhead-rose)" />
                                    <line x1="260" y1="10" x2="205" y2="50" stroke="#f472b6" stroke-width="2" marker-end="url(#arrowhead-rose)" />
                                    <line x1="175" y1="10" x2="205" y2="50" stroke="#f472b6" stroke-width="2" marker-end="url(#arrowhead-rose)" />
                                </svg>
                            </div>
                            
                            <!-- Kernel Threads -->
                            <div style="position: absolute; bottom: 20px; left: 30px; right: 30px; border-top: 1px dashed #94a3b8; padding-top: 20px;">
                                <div style="color: #cbd5e1; text-align: center; margin-bottom: 15px; font-weight: bold;">תהליכוני גרעין</div>
                                <div style="display: flex; justify-content: space-around;">
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₁</div>
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₂</div>
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₃</div>
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₄</div>
                                    <div style="width: 40px; height: 40px; background-color: #fb923c; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #1e293b; font-weight: bold; border: 2px solid #f59e0b;">K₅</div>
                                </div>
                            </div>

                            <!-- Legend -->
                            <div style="position: absolute; bottom: 5px; right: 5px; display: flex; gap: 10px;">
                                <div style="display: flex; align-items: center;">
                                    <div style="width: 10px; height: 10px; background-color: #06b6d4; margin-right: 5px;"></div>
                                    <span style="font-size: 12px; color: #cbd5e1;">אחד-לאחד</span>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <div style="width: 10px; height: 10px; background-color: #f472b6; margin-right: 5px;"></div>
                                    <span style="font-size: 12px; color: #cbd5e1;">רבים-לרבים</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p style="text-align: center;">מודל דו-רמתי: שילוב של מיפוי אחד-לאחד (כחול-ירוק) ורבים-לרבים (ורוד)</p>
                </div>
                
                <div class="highlight-box">
                    <p>
                        <strong>שימושים נפוצים:</strong> המודל הדו-רמתי מאפשר לתהליכונים קריטיים לקבל תהליכון גרעין ייעודי (אחד-לאחד), בעוד תהליכונים פחות קריטיים או קצרי טווח משתמשים במאגר משותף של תהליכוני גרעין (רבים-לרבים). גישה זו נפוצה במערכות הפעלה מודרניות כמו Solaris וגרסאות מסוימות של Linux.
                    </p>
                </div>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">השוואה בין המודלים <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
                <table class="comparison-table" style="width: 100%; border-collapse: collapse; margin: 20px 0; color: #cbd5e1;">
                    <thead>
                        <tr style="background-color: rgba(30, 41, 59, 0.7);">
                            <th style="padding: 12px; text-align: right; border: 1px solid #475569;">מאפיין</th>
                            <th style="padding: 12px; text-align: right; border: 1px solid #475569;">רבים-לאחד</th>
                            <th style="padding: 12px; text-align: right; border: 1px solid #475569;">אחד-לאחד</th>
                            <th style="padding: 12px; text-align: right; border: 1px solid #475569;">רבים-לרבים</th>
                            <th style="padding: 12px; text-align: right; border: 1px solid #475569;">דו-רמתי</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: rgba(30, 41, 59, 0.4);">
                            <td style="padding: 12px; border: 1px solid #475569; font-weight: bold;">תמיכה במקביליות אמיתית</td>
                            <td style="padding: 12px; border: 1px solid #475569;">❌ לא</td>
                            <td style="padding: 12px; border: 1px solid #475569;">✅ כן</td>
                            <td style="padding: 12px; border: 1px solid #475569;">✅ כן</td>
                            <td style="padding: 12px; border: 1px solid #475569;">✅ כן</td>
                        </tr>
                        <tr style="background-color: rgba(30, 41, 59, 0.4);">
                            <td style="padding: 12px; border: 1px solid #475569; font-weight: bold;">עלות יצירת תהליכון</td>
                            <td style="padding: 12px; border: 1px solid #475569;">נמוכה</td>
                            <td style="padding: 12px; border: 1px solid #475569;">גבוהה</td>
                            <td style="padding: 12px; border: 1px solid #475569;">בינונית</td>
                            <td style="padding: 12px; border: 1px solid #475569;">משתנה</td>
                        </tr>
                        <tr style="background-color: rgba(30, 41, 59, 0.4);">
                            <td style="padding: 12px; border: 1px solid #475569; font-weight: bold;">השפעת חסימת תהליכון</td>
                            <td style="padding: 12px; border: 1px solid #475569;">חוסם את כל התהליכונים</td>
                            <td style="padding: 12px; border: 1px solid #475569;">חוסם רק את התהליכון הנוכחי</td>
                            <td style="padding: 12px; border: 1px solid #475569;">תלוי במימוש</td>
                            <td style="padding: 12px; border: 1px solid #475569;">חלקית בלבד</td>
                        </tr>
                        <tr style="background-color: rgba(30, 41, 59, 0.4);">
                            <td style="padding: 12px; border: 1px solid #475569; font-weight: bold;">מורכבות המימוש</td>
                            <td style="padding: 12px; border: 1px solid #475569;">נמוכה</td>
                            <td style="padding: 12px; border: 1px solid #475569;">בינונית</td>
                            <td style="padding: 12px; border: 1px solid #475569;">גבוהה</td>
                            <td style="padding: 12px; border: 1px solid #475569;">גבוהה מאוד</td>
                        </tr>
                        <tr style="background-color: rgba(30, 41, 59, 0.4);">
                            <td style="padding: 12px; border: 1px solid #475569; font-weight: bold;">גמישות</td>
                            <td style="padding: 12px; border: 1px solid #475569;">נמוכה</td>
                            <td style="padding: 12px; border: 1px solid #475569;">בינונית</td>
                            <td style="padding: 12px; border: 1px solid #475569;">גבוהה</td>
                            <td style="padding: 12px; border: 1px solid #475569;">גבוהה מאוד</td>
                        </tr>
                        <tr style="background-color: rgba(30, 41, 59, 0.4);">
                            <td style="padding: 12px; border: 1px solid #475569; font-weight: bold;">התאמה לתהליכונים קריטיים</td>
                            <td style="padding: 12px; border: 1px solid #475569;">גרועה</td>
                            <td style="padding: 12px; border: 1px solid #475569;">טובה</td>
                            <td style="padding: 12px; border: 1px solid #475569;">בינונית</td>
                            <td style="padding: 12px; border: 1px solid #475569;">מצוינת</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">יישום במערכות הפעלה נפוצות <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
                <div style="display: flex; justify-content: space-between; margin: 20px 0;">
                    <!-- Windows -->
                    <div style="width: 48%; background-color: rgba(30, 41, 59, 0.4); border-radius: 10px; padding: 15px;">
                        <h4 style="text-align: center; margin-bottom: 15px; color: #60a5fa;">Windows</h4>
                        <ul class="feature-list">
                            <li><strong>מודל:</strong> אחד-לאחד</li>
                            <li><strong>תהליכונים:</strong> Windows עובדת עם תהליכונים ברמת גרעין הנקראים threads.</li>
                            <li><strong>מימוש:</strong> כל תהליכון משתמש מקושר ישירות לתהליכון גרעין.</li>
                            <li><strong>API:</strong> Win32 Thread API או .NET ThreadPool</li>
                            <li><strong>קוד לדוגמה:</strong></li>
                        </ul>
                        <div class="code-example" style="margin-top: 10px;">
                            <pre><code class="language-csharp"># Windows Thread Creation (C#)
        using System.Threading;

        // יצירת תהליכון חדש
        Thread t = new Thread(() => {
            Console.WriteLine("Hello from thread!");
        });

        // התחלת הריצה
        t.Start();

        // המתנה לסיום התהליכון
        t.Join();</code></pre>
                        </div>
                    </div>
                    
                    <!-- Linux -->
                    <div style="width: 48%; background-color: rgba(30, 41, 59, 0.4); border-radius: 10px; padding: 15px;">
                        <h4 style="text-align: center; margin-bottom: 15px; color: #f59e0b;">Linux</h4>
                        <ul class="feature-list">
                            <li><strong>מודל:</strong> אחד-לאחד עם גמישות למודל רבים-לרבים</li>
                            <li><strong>תהליכונים:</strong> POSIX threads (pthreads) ב-user space ותהליכוני גרעין ב-kernel.</li>
                            <li><strong>מימוש:</strong> המודל המודרני מבוסס על Native POSIX Threads Library (NPTL)</li>
                            <li><strong>API:</strong> POSIX pthread</li>
                            <li><strong>קוד לדוגמה:</strong></li>
                        </ul>
                        <div class="code-example" style="margin-top: 10px;">
                            <pre><code class="language-c"># Linux Thread Creation (C with pthreads)
        #include &lt;pthread.h&gt;
        #include &lt;stdio.h&gt;

        void* thread_function(void* arg) {
            printf("Hello from thread!\n");
            return NULL;
        }

        int main() {
            pthread_t thread_id;
            
            // יצירת תהליכון חדש
            pthread_create(&thread_id, NULL, 
                           thread_function, NULL);
            
            // המתנה לסיום התהליכון
            pthread_join(thread_id, NULL);
            
            return 0;
        }</code></pre>
                        </div>
                    </div>
                </div>
                
                <h4 style="margin-top: 20px; margin-bottom: 10px;">הבדלים עיקריים בין מימושים:</h4>
                <ul class="feature-list">
                    <li><strong>Windows:</strong> מימוש אחד-לאחד מלא, דגש על קלות שימוש ואינטגרציה עם מרכיבי המערכת.</li>
                    <li><strong>Linux:</strong> בגרסאות מוקדמות היה שימוש במודל רבים-לרבים עם מנגנון התאמה (scheduler activations). בגרסאות מודרניות המעבר למודל אחד-לאחד עם NPTL שיפר את הביצועים משמעותית.</li>
                    <li><strong>Solaris:</strong> אחת המערכות הראשונות שיישמה מודל דו-רמתי, המשלב בין תהליכוני משתמש קלי-משקל (LWPs) לתהליכוני גרעין.</li>
                    <li><strong>מימושי User-Level:</strong> ספריות כמו GNU Portable Threads יכולות לספק מימושי תהליכונים ברמת משתמש מעל תהליכונים ברמת גרעין.</li>
                </ul>
            </div>
            
            <h3 onclick="toggleContent(this.querySelector('.toggle-btn'))">אתגרים ושיקולים <button class="toggle-btn" onclick="toggleContent(this); event.stopPropagation();">▼</button></h3>
            <div class="collapsible-content">
                <p>
                    בחירת מודל תהליכונים מושפעת ממספר שיקולים חשובים:
                </p>
                <div class="visual-diagram" style="margin: 20px 0;">
                    <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px;">
                        <div style="width: 200px; background-color: rgba(30, 41, 59, 0.4); border-radius: 8px; padding: 15px; text-align: center;">
                            <div style="font-size: 24px;">⚡</div>
                            <h4 style="margin: 10px 0; color: #60a5fa;">ביצועים</h4>
                            <p style="font-size: 14px;">עלות החלפת הקשר בין תהליכונים, ניצול משאבים, השפעה על זמני תגובה</p>
                        </div>
                        <div style="width: 200px; background-color: rgba(30, 41, 59, 0.4); border-radius: 8px; padding: 15px; text-align: center;">
                            <div style="font-size: 24px;">🧩</div>
                            <h4 style="margin: 10px 0; color: #60a5fa;">גמישות</h4>
                            <p style="font-size: 14px;">היכולת להתאים את מספר התהליכונים למשימות משתנות ולהקצאת משאבים דינמית</p>
                        </div>
                        <div style="width: 200px; background-color: rgba(30, 41, 59, 0.4); border-radius: 8px; padding: 15px; text-align: center;">
                            <div style="font-size: 24px;">🔒</div>
                            <h4 style="margin: 10px 0; color: #60a5fa;">סנכרון</h4>
                            <p style="font-size: 14px;">מורכבות מנגנוני הסנכרון בין תהליכונים במודלים השונים</p>
                        </div>
                        <div style="width: 200px; background-color: rgba(30, 41, 59, 0.4); border-radius: 8px; padding: 15px; text-align: center;">
                            <div style="font-size: 24px;">📊</div>
                            <h4 style="margin: 10px 0; color: #60a5fa;">קנה מידה</h4>
                            <p style="font-size: 14px;">היכולת להתמודד עם מאות או אלפי תהליכונים במקביל</p>
                        </div>
                    </div>
                </div>
                
                <div class="highlight-box">
                    <p>
                        <strong>מגמה חדשה:</strong> הופעת מודל הסיבים (Fibers) ותהליכוני קורוטינות (Coroutines) - תהליכונים קלי משקל שנוצרים ומנוהלים ברמת שפת התכנות (לדוגמה Go Goroutines) ומאפשרים מקביליות מאוד גבוהה ללא העמסת יתר על מערכת ההפעלה.
                    </p>
                </div>
            </div>
        </div></div>
        

    </div>

   
</body>
</html>
